<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="clr-namespace:dxfInspect.Views"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="dxfInspect.Views.DxfMainWindow"
        Title="DXF Inspect"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        WindowStartupLocation="CenterScreen">

    <Window.Styles>
        <!-- Title Bar Button Style -->
        <Style Selector="Button.TitleBarButton">
            <Setter Property="Width" Value="46"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
        <Style Selector="Button.TitleBarButton:pointerover">
            <Setter Property="Background" Value="#20000000"/>
        </Style>
        <Style Selector="Button.TitleBarButton:pressed">
            <Setter Property="Background" Value="#40000000"/>
        </Style>
        <Style Selector="Button.CloseButton:pointerover">
            <Setter Property="Background" Value="#e81123"/>
        </Style>
        <Style Selector="Button.CloseButton:pressed">
            <Setter Property="Background" Value="#8e0a15"/>
        </Style>
    </Window.Styles>

    <Panel>
        <!-- Background with blur effect -->
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial
                    BackgroundSource="Digger"
                    TintColor="White"
                    TintOpacity="1"
                    MaterialOpacity="0.85"/>
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>

        <DockPanel>
            <!-- Custom Title Bar -->
            <Border DockPanel.Dock="Top" Height="30" Background="Transparent">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Window Icon and Title -->
                    <StackPanel Grid.Column="0" 
                              Orientation="Horizontal" 
                              Spacing="8"
                              Margin="8,0"
                              IsHitTestVisible="True"
                              PointerPressed="BeginWindowDrag">
                        <PathIcon Data="M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z" 
                                Height="16" Width="16"/>
                        <TextBlock Text="{Binding Title}" 
                                 VerticalAlignment="Center"
                                 FontWeight="SemiBold"/>
                    </StackPanel>

                    <!-- Title Bar Drag Area -->
                    <Border Grid.Column="1" 
                            Background="Transparent"
                            IsHitTestVisible="True"
                            PointerPressed="BeginWindowDrag"/>

                    <!-- Window Controls -->
                    <StackPanel Grid.Column="2" 
                              Orientation="Horizontal"
                              HorizontalAlignment="Right">
                        <Button Classes="TitleBarButton"
                                Click="MinimizeWindow">
                            <PathIcon Data="M20,14H4V10H20"/>
                        </Button>
                        <Button Classes="TitleBarButton"
                                Click="MaximizeWindow">
                            <PathIcon Data="M4,4H20V20H4V4M6,8V18H18V8H6Z"/>
                        </Button>
                        <Button Classes="TitleBarButton CloseButton"
                                Click="CloseWindow">
                            <PathIcon Data="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Main Content -->
            <views:DxfMainView Margin="0,0,0,0"/>
        </DockPanel>
    </Panel>
</Window>
